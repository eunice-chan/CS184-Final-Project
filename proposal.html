<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Expressive Inverse Kinematics | CS 184 Final Project Proposal</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" href="penrosetriangle.svg">
</head>
<body class="sans">
<a href="./index.html">HOME</a> / <b>
<a href="#">PROPOSAL</a>
</b> / <a href="./milestone.html">MILESTONE</a> / <a href="./project.html">WRITEUP</a>  / <a href="./demo.html">DEMO</a>
<br />
<br />
<br />
<br />
<h1 class="page-title">Expressive Inverse Kinematics</h1>
<h1>CS 184 Final Project Proposal</h1>
Eunice Chan | <i>August 1, 2020</i>
<br />
<br />
<h2 id="changelog">Changelog</h2>
<p class="highlight-red_background"><i>August 2 Update</i>: Made forward kinematics a goal. </p>
<p class="highlight-orange_background"><i>August 4 Update</i>: Made SMCM a goal and moved the two models to reach goal. </p>
<h2>Summary</h2>
<p>In this project, I will explore and implement the common techniques to tackle inverse kinematics (IK). I am particularly interested in IK algorithms that allow a greater degree of ability to control stylistic variations of the animation. Because of this, I will primarily be looking at the iterative methods using a cost function to be minimized and Sequential Monte Carlo methods (SMCM) for solving IK problems.</p>
<h2>Problem Description</h2>
<p>IK is the problem of generating motion from a beginning and end pose. The challenge of IK lies in the fact that unlike forward kinematics, it is an inherently under-constrained problem: there can be zero, one, or many solutions. In this project, I aim to synthesize my learnings from various articles and papers to produce smooth and natural movement with IK that offers the flexibility to modify the style (or "personality") of the movement.</p>
<h2>Quality and Performance</h2>
<p>To judge the quality and performance of my implementation, for a set of actions / poses, compare IK animation with desired / natural animation. Actions / poses that I will compare with will be the examples shown in the papers and articles I reference.</p>
<h2>Goals and Deliverables</h2>
<h3>Goal 1: Setup</h3>
<p>Set up the development environment.</p>
<ul>
  <li>Create or find robot / basic arm, <span class="highlight-orange">and if time permits,</span> rope, and human figure models.</li>
  <li>Place robot / basic arm, rope, and human figure in three isolated environments, and associate a "limb" with a control / target point while associating another part / limb with an anchor.</li>
  <li>Implement extra functionality for ease of testing such as switching between environments, start / stop simulation, dropdown menu to switch among the IK methods implemented, select different style constraints, etc. (Done at beginning and at the end (wrap up) phases of the project)</li>
  <li class="highlight-red">Implement forward kinematics</li>
</ul>
<h3>Deliverables</h3>
<ul>
  <li>Show a screenshot of implemented environments.</li>
  <li>Basic demo done with the ability to <strike class="highlight-orange">switch among the three objects and</strike> move the target point.</li>
  <li>Demo of demoable testing features.</li>
</ul>
<strike class="highlight-red">
  <h3>Reach Goal: Forward Kinematics</h3>
  <ul>
    <li>Implement forward kinematics</li>
    <li>Implement other features to make testing easier / more interactive</li>
  </ul>
</strike>
<h3>Goal 2: IK</h3>
<p>Implement basic IK.</p>
<ul>
  <li>Implement damped Least Squares / Levenberg–Marquardt algorithm</li>
  <li>Implement pseudo-inverse damped least squares OR selectively damped least squares</li>
  <li class="highlight-orange">SMCM</li>
</ul>
<h3>Reach Goal: IK</h3>
<p>Implement...</p>
<ul>
  <li>Pseudo-inverse damped least squares / selectively damped least squares</li>
  <strike class="highlight-orange"><li>SMCM</li></strike>
  <li>SMCM with interpolation for trajectory smoothing</li>
  <li>Forward And Backward Reaching Inverse Kinematics (FABRIK) heuristic method</li>
</ul>
<h3>Deliverables</h3>
<ul>
  <li>For each IK method implemented, demo video of the movements.</li>
</ul>
<h3>Goal 3: Style</h3>
Add style to the movements and wrap up project.
<ul>
  <li>Modify IK methods to account for stylized movement</li>
</ul>
<h3>Deliverables</h3>
<ul>
  <li>For each of the IK methods, modify the constraints such that the movement is stylized in some way. Compare the movements with and without the additional style constraints.</li>
</ul>
<h2 id="schedule">Schedule</h2>
<p>Updated as I go along.</p>
<h3>Week 1: August 1 - August 7</h3>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Decide on topic</span>
  </li>
</ul>
<ul>
  <li>Currently set on IK</li>
</ul>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Write proposal</span>
  </li>
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Submit proposal for review</span>
  </li>
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Decide on Unity or Three.js</span>

  </li>
</ul>
<ul>
  <li>Decided on Three.js because very easy to control variables when running demo (you can do that in the Unity editor too, but I would need to make the interface when I export the program).</li>
  <li>Considering hosting on <a href="http://glitch.me/">http://glitch.me/</a></li>
</ul>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Look into how to animate 3D model with Three.js</span>
  </li>
</ul>
<ul>
  <li><a href="https://unboring.net/workflows/animation.html">Rig model, export as Three.js-readable <code>.json</code> file</a> and <a href="https://stackoverflow.com/questions/20433474/dynamic-bones-animation-in-three-js">import into Three.js as a skinnedmesh.</a></li>
</ul>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Learn Three.js</span>
  </li>
</ul>
<ul>
  <li>Went through <a href="https://www.linkedin.com/learning/learning-3d-graphics-on-the-web-with-three-js">this course</a> (finished Chapters 10 of 10).</li>
  <li>Notes <a href="./three.html">here</a>.</li>
</ul>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Create model to manipulate (using Blender): Robot / basic arm (export as a <code>.glb</code> file)</span>
  </li>
</ul>
<ul>
  <li>After a day of focused work, I couldn't figure out how to get everything loaded and rigged properly so I ended up creating the geometry from the primitive geometries in the script.</li>
</ul>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Figure out skeletal rigging in Three.js</span>
  </li>
</ul>
<ul>
  <li>After many false starts, I ended up taking the code <a href="https://threejs.org/docs/#api/en/objects/SkinnedMesh">here</a> and using that as starter code.</li>
</ul>
  <ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Update schedule based on proposal feedback</span>
  </li>
</ul>
<ul>
  <li>Swapped some goals and reach goals.</li>
</ul>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Implement basic forward kinematics</span>
  </li>
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Set up testing environment in Three.js</span>
  </li>
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Add moveable target point in demo</span>
  </li>
  <li>
    <div class="checkbox checkbox-on"></div>
    <span class="to-do-children-checked">Understand the damped least squares / Levenberg–Marquardt algorithm</span>
  </li>
</ul>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Update endpoint world position / find the position of endpoint after apply base transform</span>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Implement IK methods for arm model: Damped least squares / Levenberg–Marquardt algorithm</span>
  </li>
  <li>
  <div class="checkbox checkbox-off"></div>
  <span class="to-do-children-unchecked">Write milestone report</span>
  </li>
</ul>
<h3>Week 2: August 8 - August 14</h3>
<ul class="to-do-list">
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Implement IK methods for arm model</span>
    <ul class="to-do-list">
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">Damped least squares / Levenberg–Marquardt algorithm</span>
      </li>
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">Pseudo-inverse damped least squares</span>
      </li>
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">SMCM</span>
      </li>
    </ul>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">[Reach Goal] Limit movement range for IK (Show can reach if near. Otherwise, constrained by distance)</span>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Add styling / wrap up</span>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Add styling / wrap up</span>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Add finishing touches / bug fixes</span>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Get ready for demo</span>
    <ul>
      <li>Make more interactive</li>
      <li>Add constraints on the fly</li>
    </ul>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Add constraints for expressiveness / style of movement</span>
  </li>
  <br />
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">Implement IK methods for arm model</span>
    <ul class="to-do-list">
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">[Reach Goal] Selectively damped least squares</span>
      </li>
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">[Reach Goal] SMCM with interpolation for trajectory smoothing</span>
      </li>
    </ul>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">[Reach Goal] Create model to manipulate: Rope</span>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">[Reach Goal] Create model to manipulate: Human figure</span>
  </li>
  <li>
    <div class="checkbox checkbox-off"></div>
    <span class="to-do-children-unchecked">[Reach Goal] Implement IK methods for the other figures</span>
    <ul class="to-do-list">
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">[Reach Goal] Damped least squares / Levenberg–Marquardt algorithm</span>
      </li>
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">[Reach Goal] Pseudo-inverse damped least squares</span>
      </li>
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">[Reach Goal] SMCM</span>
      </li>
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">[Reach Goal] Selectively damped least squares</span>
      </li>
      <li>
        <div class="checkbox checkbox-off"></div>
        <span class="to-do-children-unchecked">[Reach Goal] SMCM with interpolation for trajectory smoothing</span>
      </li>
    </ul>
  </li>
</ul>
<!-- <li>
<div class="checkbox checkbox-off">
</div>
<span class="to-do-children-unchecked">Todo Unchecked</span>
</li>
<li>
<div class="checkbox checkbox-off">
</div>
<span class="to-do-children-unchecked">Todo Unchecked</span>
</li>
<li>
<div class="checkbox checkbox-off">
</div>
<span class="to-do-children-unchecked">Todo Unchecked</span>
</li>
<li>
<div class="checkbox checkbox-on">
</div>
<span class="to-do-children-checked">Todo Item</span>
</li>
<li>
<div class="checkbox checkbox-on">
</div>
<span class="to-do-children-checked">Todo Item</span>
</li>
<li>
<div class="checkbox checkbox-on">
</div>
<span class="to-do-children-checked">Todo Item</span>
</li> -->
<h2>Interesting Resources and Cool Links</h2>
<ul>
  <li>
    <a href="http://andreasaristidou.com/publications/papers/IK_survey.pdf">http://andreasaristidou.com/publications/papers/IK_survey.pdf</a>
    <ul>
      <li>Survey of the current field of IK</li>
    </ul>
  </li>
  <li>
    <a href="http://math.ucsd.edu/~sbuss/ResearchWeb/ikmethods/iksurvey.pdf">http://math.ucsd.edu/~sbuss/ResearchWeb/ikmethods/iksurvey.pdf</a>
    <ul>
      <li>Introduction to IK</li>
    </ul>
  </li>
  <li>
    <a href="https://billbaxter.com/courses/290/html/index.htm">https://billbaxter.com/courses/290/html/index.htm</a>
    <ul>
      <li>Survey of IK numerical methods</li>
    </ul>
  </li>
  <li>
    <a href="http://perception.inrialpes.fr/Publications/2008/CA08/amdo08.pdf">http://perception.inrialpes.fr/Publications/2008/CA08/amdo08.pdf</a>
    <ul>
      <li>SMCM + specific implementation with smoothing</li>
    </ul>
  </li>
  <li>
    <a href="https://www.ece.uvic.ca/~bctill/papers/ememcog/Rolf_etal_2010.pdf">https://www.ece.uvic.ca/~bctill/papers/ememcog/Rolf_etal_2010.pdf</a>
    <ul>
      <li>IK using goal babbling (path-based sampling)</li>
    </ul>
  </li>
  <li>
    <a href="https://www.alanzucconi.com/2017/04/10/robotic-arms/">https://www.alanzucconi.com/2017/04/10/robotic-arms/</a>
    <ul>
      <li>Robot arm implementation in Unity with gradient descent</li>
    </ul>
  </li>
  <li>
    <a href="https://www.alanzucconi.com/2017/04/12/tentacles/">https://www.alanzucconi.com/2017/04/12/tentacles/</a>
    <ul>
      <li>Tentacle implementation in Unity with gradient descent</li>
    </ul>
  </li>
  <li>
    <a href="https://cgl.ethz.ch/teaching/former/seminar/handouts/Hess_StyleBasedIK.pdf">https://cgl.ethz.ch/teaching/former/seminar/handouts/Hess_StyleBasedIK.pdf</a>
    <ul>
      <li>Constrained optimization problem to restrain the algorithm to a certain "style" of natural looking poses</li>
    </ul>
  </li>
  <li>
    <a href="https://github.com/wylieconlon/kinematics">https://github.com/wylieconlon/kinematics</a>
    <ul>
      <li>Basic forward and inverse kinematics with clamped Jacobian transpose method in JS</li>
    </ul>
  </li>
  <li>
    <a href="https://www.khanacademy.org/computer-programming/inverse-kinematics/1191743453">https://www.khanacademy.org/computer-programming/inverse-kinematics/1191743453</a>
    <ul>
      <li>Basic 2D IK example with two segments</li>
    </ul>
  </li>
  <li>
    <a href="http://andreasaristidou.com/FABRIK.html">http://andreasaristidou.com/FABRIK.html</a>
    <ul>
      <li>FABRIK from the guy who made it</li>
    </ul>
  </li>
  <li>
    <a href="https://threejs.org/">https://threejs.org/</a>
    <ul>
      <li>JavaScript 3D library</li>
    </ul>
  </li>
  <li>
    <a href="https://www.youtube.com/watch?v=z0MJ2KdGPFE">https://www.youtube.com/watch?v=z0MJ2KdGPFE</a>
    <ul>
      <li>Video in German about how to do skeletal animation</li>
    </ul>
  </li>
  <li>
    <a href="https://www.youtube.com/watch?v=eEqB-eKcv7k">https://www.youtube.com/watch?v=eEqB-eKcv7k</a>
    <ul>
      <li>Video about how to do skeletal animation</li>
    </ul>
  </li>
  <li>
    <a href="https://threejs.org/docs/#api/en/objects/SkinnedMesh">https://threejs.org/docs/#api/en/objects/SkinnedMesh</a>
    <ul>
      <li>Three.js SkinnedMesh documentation</li>
    </ul>
  </li>
  <li>
    <a href="https://github.com/mrdoob/three.js/blob/master/examples/webgl_loader_collada_kinematics.html">https://github.com/mrdoob/three.js/blob/master/examples/webgl_loader_collada_kinematics.html</a>
    <ul>
      <li>Three.js kinematics example code</li>
    </ul>
  </li>
  <li>
    <a href="https://threejs.org/docs/#api/en/objects/Skeleton">https://threejs.org/docs/#api/en/objects/Skeleton</a>
    <ul>
      <li>Three.js Skeleton documentation</li>
    </ul>
  </li>
  <li>
    <a href="https://threejs.org/docs/#api/en/helpers/SkeletonHelper">https://threejs.org/docs/#api/en/helpers/SkeletonHelper</a>
    <ul>
      <li>Three.js SkeletonHelper documentation (to visualize skeleton)</li>
    </ul>
  </li>
  <li>
    <a href="https://discoverthreejs.com/">https://discoverthreejs.com/</a>
    <ul>
      <li>Three.js SkeletonHelper documentation (to visualize skeleton)</li>
    </ul>
  </li>
  <li>
    <a href="https://threejsfundamentals.org/threejs/lessons/threejs-custom-buffergeometry.html">https://threejsfundamentals.org/threejs/lessons/threejs-custom-buffergeometry.html</a>
    <ul>
      <li>Creating a buffer geometry from scratch</li>
    </ul>
  </li>
  <li>
    <a href="https://stackoverflow.com/questions/31539130/display-wireframe-and-solid-color">https://stackoverflow.com/questions/31539130/display-wireframe-and-solid-color</a>
    <ul>
      <li>Wireframe for debugging.</li>
    </ul>
  </li>

  <li>
    <a href="http://www.brnt.eu/publications/brunet2010phd.pdf">http://www.brnt.eu/publications/brunet2010phd.pdf</a>
    <ul>
      <li>Has some key optimization algorithms explained! A thesis on the modelling and the estimation of parametric functions in Computer Vision. I</li>
    </ul>
  </li>
</ul>
</body>
</html>
